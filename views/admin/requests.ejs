<%- include('../partials/header') %>

<div class="container mt-5">
    <h2>Leave Requests</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Employee</th>
                <th>Leave Type</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <% leaveRequests.forEach(request => { %>
                <tr>
                    <td><%= request.User.firstName %> <%= request.User.lastName %></td>
                    <td><%= request.LeaveType.name %></td>
                    <td><%= request.startDate.toDateString() %></td>
                    <td><%= request.endDate.toDateString() %></td>
                    <td><%= request.status %></td>
                    <td>
                        <% if (request.status === 'pending') { %>
                            <a href="/admin/approve/<%= request.id %>" class="btn btn-success btn-sm">Approve</a>
                            <a href="/admin/reject/<%= request.id %>" class="btn btn-danger btn-sm">Reject</a>
                        <% } %>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
</div>

<%- include('../partials/footer') %>